{"version":3,"file":"js/664.98a077a2.js","mappings":"gQA4BA,MAAMA,GAAeC,EAAAA,EAAAA,IAAI,MAEnBC,GAAQC,EAAAA,EAAAA,MAERC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAGRC,GAAYC,EAAAA,EAAAA,IAAS,CACzBC,SAAU,GACVC,SAAU,KAINC,EAAa,CACjBF,SAAU,CACR,CAAEG,UAAU,EAAMC,QAAS,SAAUC,QAAS,QAC9C,CAAEC,IAAK,EAAGC,IAAK,GAAIH,QAAS,iBAAkBC,QAAS,SAEzDJ,SAAU,CACR,CAAEE,UAAU,EAAMC,QAAS,QAASC,QAAS,QAC7C,CAAEC,IAAK,EAAGC,IAAK,GAAIH,QAAS,iBAAkBC,QAAS,UAKrDG,GAAUjB,EAAAA,EAAAA,KAAI,GAGdkB,EAAcC,UAEbpB,EAAaqB,aAEZrB,EAAaqB,MAAMC,UAASF,UAChC,IAAIG,EAmBF,OAAO,EAlBP,IACEL,EAAQG,OAAQ,QACVnB,EAAMsB,SAAS,aAAchB,SAC7BN,EAAMsB,SAAS,qBAErBC,EAAAA,EAAAA,IAAU,CACRX,QAAS,OACTY,KAAM,YAIRtB,EAAOuB,KAAKrB,EAAMsB,MAAMC,UAAY,IACtC,CAAE,MAAOC,GACPL,EAAAA,GAAUK,MAAMA,EAAMhB,SAAW,WACnC,CAAE,QACAI,EAAQG,OAAQ,CAClB,CAGF,GACA,E,6lCC7EJ,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://daijia-admin/./src/pages/Login.vue","webpack://daijia-admin/./src/pages/Login.vue?619c"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <el-card class=\"login-card\">\n      <div class=\"title\">\n        <h2>代驾管理系统</h2>\n      </div>\n      <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginFormRef\" class=\"login-form\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"loginForm.username\" prefix-icon=\"User\" placeholder=\"请输入用户名\" />\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" prefix-icon=\"Lock\" type=\"password\" placeholder=\"请输入密码\" show-password />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class=\"login-button\" :loading=\"loading\" @click=\"handleLogin\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessage } from 'element-plus'\n\n// 创建表单引用\nconst loginFormRef = ref(null)\n// 使用store\nconst store = useStore()\n// 使用路由\nconst router = useRouter()\nconst route = useRoute()\n\n// 登录表单数据\nconst loginForm = reactive({\n  username: '',\n  password: ''\n})\n\n// 表单验证规则\nconst loginRules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' },\n    { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n  ],\n  password: [\n    { required: true, message: '请输入密码', trigger: 'blur' },\n    { min: 6, max: 20, message: '长度在 6 到 20 个字符', trigger: 'blur' }\n  ]\n}\n\n// 登录状态\nconst loading = ref(false)\n\n// 登录处理\nconst handleLogin = async () => {\n  // 验证表单\n  if (!loginFormRef.value) return\n  \n  await loginFormRef.value.validate(async (valid) => {\n    if (valid) {\n      try {\n        loading.value = true\n        await store.dispatch('user/login', loginForm)\n        await store.dispatch('user/getUserInfo')\n        \n        ElMessage({\n          message: '登录成功',\n          type: 'success'\n        })\n        \n        // 重定向到首页或之前尝试访问的页面\n        router.push(route.query.redirect || '/')\n      } catch (error) {\n        ElMessage.error(error.message || '登录失败，请重试')\n      } finally {\n        loading.value = false\n      }\n    } else {\n      return false\n    }\n  })\n}\n</script>\n\n<style scoped>\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  background-color: #f0f2f5;\n}\n\n.login-card {\n  width: 400px;\n  padding: 20px 30px;\n  border-radius: 8px;\n}\n\n.title {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.title h2 {\n  font-weight: 600;\n  color: #409EFF;\n  margin: 0;\n}\n\n.login-form {\n  margin-top: 30px;\n}\n\n.login-button {\n  width: 100%;\n}\n</style> ","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=00d4f915&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00d4f915\"]])\n\nexport default __exports__"],"names":["loginFormRef","ref","store","useStore","router","useRouter","route","useRoute","loginForm","reactive","username","password","loginRules","required","message","trigger","min","max","loading","handleLogin","async","value","validate","valid","dispatch","ElMessage","type","push","query","redirect","error","__exports__"],"sourceRoot":""}