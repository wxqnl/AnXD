"use strict";(self["webpackChunkdaijia_admin"]=self["webpackChunkdaijia_admin"]||[]).push([[537],{3537:(e,a,l)=>{l.r(a),l.d(a,{default:()=>B});var t=l(6768),r=l(4232),d=l(144),i=l(1219),u=l(2933),n=l(5720);function o(e){return(0,n.A)({url:"/driver/getDriverInfo",method:"get",params:e})}function s(e){return(0,n.A)({url:"/driver/getDriverInfoByName",method:"get",params:{name:e}})}function c(e){return(0,n.A)({url:"/driver/updateDriverInfo",method:"get",params:e})}function p(e){return(0,n.A)({url:"/driver/removeDriverInfo",method:"get",params:{name:e}})}function b(e){return(0,n.A)({url:"/driver/getDriverLoginLog",method:"get",params:{name:e}})}function v(e){return(0,n.A)({url:"/driver/getDriverAccountDetail",method:"get",params:{...e,driverId:e.dirverId}})}function m(e){return(0,n.A)({url:"/driver/getDriverAccount",method:"get",params:{driverId:e}})}const k={class:"app-container"},_={class:"image-container"},f={key:1,class:"no-image"},g={class:"image-container"},F={key:1,class:"no-image"},h={class:"image-container"},y={key:1,class:"no-image"},w={class:"image-container"},W={key:1,class:"no-image"},L={class:"image-container"},U={key:1,class:"no-image"},V={class:"image-container"},C={key:1,class:"no-image"},N={class:"dialog-footer"},I={key:0},x={key:1},z={key:2,class:"empty-data"},S={key:0},R={class:"income"},E={class:"withdraw"},X={key:1,class:"empty-data"},A={key:0,class:"error-message"},D={key:3,class:"empty-data"},K={__name:"DriverInfo",setup(e){const a=(0,d.Kh)({pageNum:1,pageSize:10,name:"",jobNo:"",phone:"",status:void 0}),l=(0,d.KR)([]),n=(0,d.KR)(!1),K=(0,d.KR)(0),j=(0,d.KR)(!1),T=(0,d.KR)(null),B=(0,d.KR)("basic"),H=(0,d.Kh)({name:"",nickname:"",jobNo:"",phone:"",gender:"",birthday:"",idcardNo:"",idcardAddress:"",idcardExpire:"",idcardFrontUrl:"",idcardBackUrl:"",idcardHandUrl:"",driverLicenseNo:"",driverLicenseClazz:"",driverLicenseExpire:"",driverLicenseIssueDate:"",driverLicenseFrontUrl:"",driverLicenseBackUrl:"",driverLicenseHandUrl:"",contactName:"",contactPhone:"",contactRelationship:"",authStatus:0,status:1,auditRemark:""}),q=(0,d.KR)(!1),P=(0,d.KR)(null),O=(0,d.KR)([]),$=(0,d.KR)(!1),Q=(0,d.KR)(null),Y=(0,d.KR)("overview"),M=(0,d.KR)([]),G=(0,d.KR)(0),J=(0,d.KR)(!1),Z=(0,d.KR)(""),ee=(0,d.KR)(""),ae=(0,d.Kh)({pageNum:1,pageSize:10,dirverId:"",tradeType:"",tradeNo:"",minAmount:void 0,maxAmount:void 0}),le=(0,d.KR)(!1),te=(0,d.Kh)({}),re={authStatus:[{required:!0,message:"请选择认证状态",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},de=async()=>{try{n.value=!0;const e=await o(a);console.log("司机列表响应:",e),l.value=e.data.items||[],K.value=e.data.total||0}catch(e){console.error("获取司机列表失败",e)}finally{n.value=!1}},ie=()=>{a.pageNum=1,de()},ue=()=>{a.name="",a.jobNo="",a.phone="",a.status=void 0,a.pageNum=1,de()},ne=()=>{H.name="",H.nickname="",H.jobNo="",H.phone="",H.gender="",H.birthday="",H.idcardNo="",H.idcardAddress="",H.idcardExpire="",H.idcardFrontUrl="",H.idcardBackUrl="",H.idcardHandUrl="",H.driverLicenseNo="",H.driverLicenseClazz="",H.driverLicenseExpire="",H.driverLicenseIssueDate="",H.driverLicenseFrontUrl="",H.driverLicenseBackUrl="",H.driverLicenseHandUrl="",H.contactName="",H.contactPhone="",H.contactRelationship="",H.authStatus=0,H.status=1,H.auditRemark="",B.value="basic",(0,t.dY)((()=>{T.value?.resetFields()}))},oe=async e=>{ne(),j.value=!0;try{const a=await s(e.name);if(a.data){const e={...a.data};e.birthday&&(e.birthday=Ue(e.birthday)),e.idcardExpire&&(e.idcardExpire=Ue(e.idcardExpire)),e.driverLicenseExpire&&(e.driverLicenseExpire=Ue(e.driverLicenseExpire)),e.driverLicenseIssueDate&&(e.driverLicenseIssueDate=Ue(e.driverLicenseIssueDate)),Object.assign(H,e)}}catch(a){i.nk.error("获取司机信息失败")}},se=e=>{u.s.confirm(`确定要删除司机 ${e.name} 吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{await p(e.name),i.nk.success("删除成功"),de()}catch(a){i.nk.error("删除失败")}})).catch((()=>{}))},ce=async e=>{try{q.value=!0,P.value=null,O.value=[];const a=await b(e.name);console.log("登录日志响应:",a),a.data&&(Array.isArray(a.data)?O.value=a.data.map((e=>({...e,driverId:e.driver_id||e.driverId,createTime:e.create_time||e.createTime}))):Array.isArray(a.data.items)?O.value=a.data.items.map((e=>({...e,driverId:e.driver_id||e.driverId,createTime:e.create_time||e.createTime}))):P.value={...a.data,driverId:a.data.driver_id||a.data.driverId,createTime:a.data.create_time||a.data.createTime})}catch(a){console.error("获取登录日志失败",a),i.nk.error("获取登录日志失败")}},pe=async e=>{$.value=!0,Y.value="overview",Z.value=e.id||e.driverId;try{const e=await m(Z.value);Q.value=e.data}catch(a){console.error("获取账户信息失败",a),i.nk.error("获取账户信息失败"),Q.value=null}ae.dirverId=Z.value,be()},be=async()=>{try{J.value=!0,ee.value="",console.log("账单查询参数:",ae);const e=await v(ae);e.data?(M.value=e.data.items||[],G.value=e.data.total||0):(M.value=[],G.value=0,ee.value="服务器返回数据为空")}catch(e){console.error("获取账单明细失败",e),M.value=[],G.value=0,ee.value=e.message||"获取账单明细数据失败"}finally{J.value=!1}},ve=()=>{be()},me=e=>{ae.pageSize=e,be()},ke=e=>{ae.pageNum=e,be()},_e=e=>{const a={1:"success",2:"danger",3:"warning",4:"info"};return a[e]||"info"},fe=e=>{const a={1:"订单收入",2:"提现",3:"退款",4:"其他"};return a[e]||"未知类型"},ge=()=>{j.value=!1,ne()},Fe=async()=>{T.value.validate((async e=>{if(e)try{const e={name:H.name,nickname:H.nickname||"",avatarUrl:H.avatarUrl||"",phone:H.phone||"",gender:H.gender||"",score:H.score||0,status:H.status,authStatus:H.authStatus};console.log("提交的司机数据:",e);await c(e);i.nk.success("修改司机信息成功"),j.value=!1,de()}catch(a){console.error("操作失败",a),i.nk.error("操作失败，请稍后重试")}}))},he=e=>{a.pageSize=e,de()},ye=e=>{a.pageNum=e,de()},we=e=>{if(!e)return"未记录";try{const a=new Date(e);return isNaN(a.getTime())?e:a.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")}catch(a){return console.error("日期格式化错误",a),e}},We=e=>{const a={0:"info",1:"success",2:"warning",3:"danger"};return a[e]||"info"},Le=e=>{const a={0:"未认证",1:"已认证",2:"认证中",3:"认证失败"};return a[e]||"未知"},Ue=e=>{if(!e)return"";if("string"===typeof e&&e.includes("T"))return e.split("T")[0];if(e instanceof Date){const a=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${a}-${l}-${t}`}return e},Ve=async e=>{try{le.value=!0;const a=await s(e.name);a.data&&Object.assign(te,a.data)}catch(a){console.error("获取司机详情失败",a),i.nk.error("获取司机详情失败")}};return(0,t.sV)((()=>{de()})),(e,d)=>{const i=(0,t.g2)("el-input"),u=(0,t.g2)("el-form-item"),o=(0,t.g2)("el-option"),s=(0,t.g2)("el-select"),c=(0,t.g2)("el-button"),p=(0,t.g2)("el-form"),b=(0,t.g2)("el-card"),v=(0,t.g2)("el-table-column"),m=(0,t.g2)("el-tag"),Z=(0,t.g2)("el-table"),de=(0,t.g2)("el-pagination"),ne=(0,t.g2)("el-col"),be=(0,t.g2)("el-row"),Ce=(0,t.g2)("el-divider"),Ne=(0,t.g2)("el-radio"),Ie=(0,t.g2)("el-radio-group"),xe=(0,t.g2)("el-tab-pane"),ze=(0,t.g2)("el-image"),Se=(0,t.g2)("el-tabs"),Re=(0,t.g2)("el-dialog"),Ee=(0,t.g2)("el-descriptions-item"),Xe=(0,t.g2)("el-descriptions"),Ae=(0,t.g2)("el-alert"),De=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(b,{class:"search-card"},{default:(0,t.k6)((()=>[(0,t.bF)(p,{model:a,ref:"queryForm",inline:!0,class:"search-form"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"司机姓名",prop:"name"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:a.name,"onUpdate:modelValue":d[0]||(d[0]=e=>a.name=e),placeholder:"请输入司机姓名",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(u,{label:"工号",prop:"jobNo"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:a.jobNo,"onUpdate:modelValue":d[1]||(d[1]=e=>a.jobNo=e),placeholder:"请输入工号",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(u,{label:"手机号",prop:"phone"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:a.phone,"onUpdate:modelValue":d[2]||(d[2]=e=>a.phone=e),placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(u,{label:"状态",prop:"status"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{modelValue:a.status,"onUpdate:modelValue":d[3]||(d[3]=e=>a.status=e),placeholder:"请选择状态",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:"正常",value:1}),(0,t.bF)(o,{label:"停用",value:0})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,t.bF)(c,{type:"primary",onClick:ie},{default:(0,t.k6)((()=>d[21]||(d[21]=[(0,t.eW)("查询")]))),_:1}),(0,t.bF)(c,{onClick:ue},{default:(0,t.k6)((()=>d[22]||(d[22]=[(0,t.eW)("重置")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),(0,t.bF)(b,null,{header:(0,t.k6)((()=>d[23]||(d[23]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("span",null,"司机列表")],-1)]))),default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.Wv)(Z,{data:l.value,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(v,{type:"index",label:"#",width:"50"}),(0,t.bF)(v,{prop:"name",label:"司机姓名",width:"100"}),(0,t.bF)(v,{prop:"jobNo",label:"工号",width:"100"}),(0,t.bF)(v,{prop:"phone",label:"手机号",width:"120"}),(0,t.bF)(v,{prop:"gender",label:"性别",width:"60"}),(0,t.bF)(v,{prop:"nickname",label:"昵称",width:"100"}),(0,t.bF)(v,{prop:"driverLicenseClazz",label:"准驾车型",width:"80"}),(0,t.bF)(v,{prop:"score",label:"评分",width:"80"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(e.row.score||"暂无"),1)])),_:1}),(0,t.bF)(v,{prop:"orderCount",label:"订单量",width:"80"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(e.row.orderCount||0),1)])),_:1}),(0,t.bF)(v,{prop:"authStatus",label:"认证状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(m,{type:We(e.row.authStatus)},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Le(e.row.authStatus)),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(v,{prop:"status",label:"状态",width:"80"},{default:(0,t.k6)((e=>[(0,t.bF)(m,{type:1===e.row.status?"success":"danger"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(1===e.row.status?"正常":"停用"),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(v,{label:"操作",width:"350"},{default:(0,t.k6)((e=>[(0,t.bF)(c,{type:"primary",link:"",onClick:a=>oe(e.row)},{default:(0,t.k6)((()=>d[24]||(d[24]=[(0,t.eW)("编辑")]))),_:2},1032,["onClick"]),(0,t.bF)(c,{type:"danger",link:"",onClick:a=>se(e.row)},{default:(0,t.k6)((()=>d[25]||(d[25]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"]),(0,t.bF)(c,{type:"info",link:"",onClick:a=>ce(e.row)},{default:(0,t.k6)((()=>d[26]||(d[26]=[(0,t.eW)("查看日志")]))),_:2},1032,["onClick"]),(0,t.bF)(c,{type:"success",link:"",onClick:a=>pe(e.row)},{default:(0,t.k6)((()=>d[27]||(d[27]=[(0,t.eW)("查看账户")]))),_:2},1032,["onClick"]),(0,t.bF)(c,{type:"warning",link:"",onClick:a=>Ve(e.row)},{default:(0,t.k6)((()=>d[28]||(d[28]=[(0,t.eW)("查看详情")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[De,n.value]]),K.value>0?((0,t.uX)(),(0,t.Wv)(de,{key:0,"current-page":a.pageNum,"onUpdate:currentPage":d[4]||(d[4]=e=>a.pageNum=e),"page-size":a.pageSize,"onUpdate:pageSize":d[5]||(d[5]=e=>a.pageSize=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:K.value,onSizeChange:he,onCurrentChange:ye},null,8,["current-page","page-size","total"])):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(Re,{title:"司机审核",modelValue:j.value,"onUpdate:modelValue":d[14]||(d[14]=e=>j.value=e),width:"800px","append-to-body":"","close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.Lk)("div",N,[(0,t.bF)(c,{onClick:ge},{default:(0,t.k6)((()=>d[38]||(d[38]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(c,{type:"primary",onClick:Fe},{default:(0,t.k6)((()=>d[39]||(d[39]=[(0,t.eW)("提交审核")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(p,{ref_key:"driverFormRef",ref:T,model:H,rules:re,"label-width":"120px"},{default:(0,t.k6)((()=>[(0,t.bF)(Se,{modelValue:B.value,"onUpdate:modelValue":d[13]||(d[13]=e=>B.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(xe,{label:"基本信息",name:"basic"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"司机姓名",prop:"name"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:H.name,"onUpdate:modelValue":d[6]||(d[6]=e=>H.name=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"手机号码",prop:"phone"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:H.phone,"onUpdate:modelValue":d[7]||(d[7]=e=>H.phone=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(be,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"身份证号",prop:"idcardNo"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:H.idcardNo,"onUpdate:modelValue":d[8]||(d[8]=e=>H.idcardNo=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"驾驶证号",prop:"driverLicenseNo"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:H.driverLicenseNo,"onUpdate:modelValue":d[9]||(d[9]=e=>H.driverLicenseNo=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(Ce,{"content-position":"center"},{default:(0,t.k6)((()=>d[29]||(d[29]=[(0,t.eW)("审核信息")]))),_:1}),(0,t.bF)(be,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"认证状态",prop:"authStatus"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{modelValue:H.authStatus,"onUpdate:modelValue":d[10]||(d[10]=e=>H.authStatus=e),placeholder:"请选择认证状态"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:"未认证",value:0}),(0,t.bF)(o,{label:"已认证",value:1}),(0,t.bF)(o,{label:"认证中",value:2}),(0,t.bF)(o,{label:"认证失败",value:3})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(ne,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"账户状态",prop:"status"},{default:(0,t.k6)((()=>[(0,t.bF)(Ie,{modelValue:H.status,"onUpdate:modelValue":d[11]||(d[11]=e=>H.status=e)},{default:(0,t.k6)((()=>[(0,t.bF)(Ne,{value:1},{default:(0,t.k6)((()=>d[30]||(d[30]=[(0,t.eW)("正常")]))),_:1}),(0,t.bF)(Ne,{value:0},{default:(0,t.k6)((()=>d[31]||(d[31]=[(0,t.eW)("停用")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(u,{label:"审核备注",prop:"auditRemark"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{modelValue:H.auditRemark,"onUpdate:modelValue":d[12]||(d[12]=e=>H.auditRemark=e),type:"textarea",placeholder:"请输入审核备注信息，如拒绝原因等",rows:"3"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(xe,{label:"身份证照片",name:"idcard"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",_,[d[32]||(d[32]=(0,t.Lk)("p",{class:"image-title"},"身份证正面",-1)),H.idcardFrontUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.idcardFrontUrl,fit:"contain","preview-src-list":[H.idcardFrontUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",f,"未上传"))])])),_:1}),(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",g,[d[33]||(d[33]=(0,t.Lk)("p",{class:"image-title"},"身份证背面",-1)),H.idcardBackUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.idcardBackUrl,fit:"contain","preview-src-list":[H.idcardBackUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",F,"未上传"))])])),_:1}),(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",h,[d[34]||(d[34]=(0,t.Lk)("p",{class:"image-title"},"手持身份证",-1)),H.idcardHandUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.idcardHandUrl,fit:"contain","preview-src-list":[H.idcardHandUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",y,"未上传"))])])),_:1})])),_:1})])),_:1}),(0,t.bF)(xe,{label:"驾驶证照片",name:"license"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[d[35]||(d[35]=(0,t.Lk)("p",{class:"image-title"},"驾驶证正面",-1)),H.driverLicenseFrontUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.driverLicenseFrontUrl,fit:"contain","preview-src-list":[H.driverLicenseFrontUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",W,"未上传"))])])),_:1}),(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",L,[d[36]||(d[36]=(0,t.Lk)("p",{class:"image-title"},"行驶证副页",-1)),H.driverLicenseBackUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.driverLicenseBackUrl,fit:"contain","preview-src-list":[H.driverLicenseBackUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",U,"未上传"))])])),_:1}),(0,t.bF)(ne,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[d[37]||(d[37]=(0,t.Lk)("p",{class:"image-title"},"手持驾驶证",-1)),H.driverLicenseHandUrl?((0,t.uX)(),(0,t.Wv)(ze,{key:0,src:"https://anxingda-1354991111.cos.ap-beijing.myqcloud.com/"+H.driverLicenseHandUrl,fit:"contain","preview-src-list":[H.driverLicenseHandUrl]},null,8,["src","preview-src-list"])):((0,t.uX)(),(0,t.CE)("div",C,"未上传"))])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(Re,{title:"司机登录日志",modelValue:q.value,"onUpdate:modelValue":d[15]||(d[15]=e=>q.value=e),width:"800px"},{default:(0,t.k6)((()=>[P.value?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.bF)(Z,{data:[P.value],border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(v,{prop:"driverId",label:"司机ID",width:"100"}),(0,t.bF)(v,{prop:"msg",label:"登录消息",width:"150"}),(0,t.bF)(v,{prop:"ipaddr",label:"IP地址",width:"150"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(e.row.ipaddr||"未记录"),1)])),_:1}),(0,t.bF)(v,{prop:"status",label:"状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(m,{type:e.row.status?"success":"info"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e.row.status?"成功":"小程序登录"),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(v,{label:"登录时间",width:"180"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(we(e.row.createTime)),1)])),_:1})])),_:1},8,["data"])])):O.value&&O.value.length>0?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.bF)(Z,{data:O.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(v,{prop:"driverId",label:"司机ID",width:"100"}),(0,t.bF)(v,{prop:"msg",label:"登录消息",width:"150"}),(0,t.bF)(v,{prop:"ipaddr",label:"IP地址",width:"150"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(e.row.ipaddr||"未记录"),1)])),_:1}),(0,t.bF)(v,{prop:"status",label:"状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(m,{type:e.row.status?"success":"info"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e.row.status?"成功":"小程序登录"),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(v,{label:"登录时间",width:"180"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(we(e.row.createTime)),1)])),_:1})])),_:1},8,["data"])])):((0,t.uX)(),(0,t.CE)("div",z," 暂无登录日志数据 "))])),_:1},8,["modelValue"]),(0,t.bF)(Re,{title:"司机账户信息",modelValue:$.value,"onUpdate:modelValue":d[19]||(d[19]=e=>$.value=e),width:"700px"},{default:(0,t.k6)((()=>[(0,t.bF)(Se,{modelValue:Y.value,"onUpdate:modelValue":d[18]||(d[18]=e=>Y.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(xe,{label:"账户概览",name:"overview"},{default:(0,t.k6)((()=>[Q.value?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.bF)(Xe,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{label:"司机ID"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Q.value.driverId),1)])),_:1}),(0,t.bF)(Ee,{label:"司机姓名"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Q.value.driverName||"未知"),1)])),_:1}),(0,t.bF)(Ee,{label:"总收入"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",R,"¥ "+(0,r.v_)(Q.value.totalIncome||"0.00"),1)])),_:1}),(0,t.bF)(Ee,{label:"可提现金额"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",E,"¥ "+(0,r.v_)(Q.value.availableAmount||"0.00"),1)])),_:1}),(0,t.bF)(Ee,{label:"冻结金额"},{default:(0,t.k6)((()=>[(0,t.eW)("¥ "+(0,r.v_)(Q.value.frozenAmount||"0.00"),1)])),_:1}),(0,t.bF)(Ee,{label:"已提现金额"},{default:(0,t.k6)((()=>[(0,t.eW)("¥ "+(0,r.v_)(Q.value.withdrawAmount||"0.00"),1)])),_:1}),(0,t.bF)(Ee,{label:"账户状态",span:2},{default:(0,t.k6)((()=>[(0,t.bF)(m,{type:1===Q.value.status?"success":"danger"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(1===Q.value.status?"正常":"冻结"),1)])),_:1},8,["type"])])),_:1})])),_:1})])):((0,t.uX)(),(0,t.CE)("div",X," 暂无账户信息数据 "))])),_:1}),(0,t.bF)(xe,{label:"账单明细",name:"detail"},{default:(0,t.k6)((()=>[ee.value?((0,t.uX)(),(0,t.CE)("div",A,[(0,t.bF)(Ae,{title:"获取账单明细失败",type:"error",closable:!1,"show-icon":""},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,(0,r.v_)(ee.value),1),(0,t.bF)(c,{size:"small",type:"primary",onClick:ve},{default:(0,t.k6)((()=>d[40]||(d[40]=[(0,t.eW)("重试")]))),_:1})])),_:1})])):(0,t.bo)(((0,t.uX)(),(0,t.Wv)(Z,{key:1,data:M.value,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(v,{type:"index",label:"#",width:"50"}),(0,t.bF)(v,{prop:"tradeNo",label:"交易号",width:"180"}),(0,t.bF)(v,{prop:"tradeType",label:"交易类型"},{default:(0,t.k6)((e=>[(0,t.bF)(m,{type:_e(e.row.tradeType)},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(fe(e.row.tradeType)),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(v,{prop:"amount",label:"金额"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",{class:(0,r.C4)(e.row.amount>0?"income-amount":"expense-amount")},(0,r.v_)(e.row.amount>0?"+":"")+(0,r.v_)(e.row.amount),3)])),_:1}),(0,t.bF)(v,{prop:"createTime",label:"交易时间",width:"160"}),(0,t.bF)(v,{prop:"remark",label:"备注"})])),_:1},8,["data"])),[[De,J.value]]),!ee.value&&G.value>0?((0,t.uX)(),(0,t.Wv)(de,{key:2,"current-page":ae.pageNum,"onUpdate:currentPage":d[16]||(d[16]=e=>ae.pageNum=e),"page-size":ae.pageSize,"onUpdate:pageSize":d[17]||(d[17]=e=>ae.pageSize=e),"page-sizes":[5,10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:G.value,onSizeChange:me,onCurrentChange:ke,class:"detail-pagination"},null,8,["current-page","page-size","total"])):ee.value||0!==M.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",D," 暂无交易明细数据 "))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,t.bF)(Re,{title:"司机详情",modelValue:le.value,"onUpdate:modelValue":d[20]||(d[20]=e=>le.value=e),width:"800px"},{default:(0,t.k6)((()=>[(0,t.bF)(Xe,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{label:"司机姓名"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.name||"未知"),1)])),_:1}),(0,t.bF)(Ee,{label:"昵称"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.nickname||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"工号"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.jobNo||"未分配"),1)])),_:1}),(0,t.bF)(Ee,{label:"手机号"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.phone||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"性别"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.gender||"未知"),1)])),_:1}),(0,t.bF)(Ee,{label:"生日"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Ue(te.birthday)||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"订单数量"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.orderCount||0),1)])),_:1}),(0,t.bF)(Ee,{label:"评分"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.score||"暂无评分"),1)])),_:1})])),_:1}),(0,t.bF)(Ce,{"content-position":"center"},{default:(0,t.k6)((()=>d[41]||(d[41]=[(0,t.eW)("证件信息")]))),_:1}),(0,t.bF)(Xe,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{label:"身份证号"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.idcardNo||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"身份证有效期"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Ue(te.idcardExpire)||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"身份证地址",span:2},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.idcardAddress||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"驾驶证号"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.driverLicenseNo||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"准驾车型"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.driverLicenseClazz||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"驾驶证有效期"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Ue(te.driverLicenseExpire)||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"驾驶证初领日期"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Ue(te.driverLicenseIssueDate)||"未设置"),1)])),_:1})])),_:1}),(0,t.bF)(Ce,{"content-position":"center"},{default:(0,t.k6)((()=>d[42]||(d[42]=[(0,t.eW)("紧急联系人")]))),_:1}),(0,t.bF)(Xe,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{label:"联系人姓名"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.contactName||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"联系人电话"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.contactPhone||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"联系人关系"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.contactRelationship||"未设置"),1)])),_:1}),(0,t.bF)(Ee,{label:"微信OpenID"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(te.wxOpenId||"未关联"),1)])),_:1})])),_:1}),(0,t.bF)(Ce,{"content-position":"center"},{default:(0,t.k6)((()=>d[43]||(d[43]=[(0,t.eW)("状态信息")]))),_:1}),(0,t.bF)(Xe,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{label:"认证状态"},{default:(0,t.k6)((()=>[(0,t.bF)(m,{type:We(te.authStatus)},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(Le(te.authStatus)),1)])),_:1},8,["type"])])),_:1}),(0,t.bF)(Ee,{label:"账户状态"},{default:(0,t.k6)((()=>[(0,t.bF)(m,{type:1===te.status?"success":"danger"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(1===te.status?"正常":"停用"),1)])),_:1},8,["type"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}};var j=l(1241);const T=(0,j.A)(K,[["__scopeId","data-v-6af31792"]]),B=T}}]);
//# sourceMappingURL=537.aa023344.js.map