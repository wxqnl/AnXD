"use strict";(self["webpackChunkdaijia_admin"]=self["webpackChunkdaijia_admin"]||[]).push([[664],{2664:(e,a,l)=>{l.r(a),l.d(a,{default:()=>c});var r=l(6768),s=l(144),u=l(782),n=l(1387),o=l(1219);const d={class:"login-container"},t={__name:"Login",setup(e){const a=(0,s.KR)(null),l=(0,u.Pj)(),t=(0,n.rd)(),i=(0,n.lq)(),m=(0,s.Kh)({username:"",password:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},p=(0,s.KR)(!1),g=async()=>{a.value&&await a.value.validate((async e=>{if(!e)return!1;try{p.value=!0,await l.dispatch("user/login",m),await l.dispatch("user/getUserInfo"),(0,o.nk)({message:"登录成功",type:"success"}),t.push(i.query.redirect||"/")}catch(a){o.nk.error(a.message||"登录失败，请重试")}finally{p.value=!1}}))};return(e,l)=>{const s=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),n=(0,r.g2)("el-button"),o=(0,r.g2)("el-form"),t=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.bF)(t,{class:"login-card"},{default:(0,r.k6)((()=>[l[3]||(l[3]=(0,r.Lk)("div",{class:"title"},[(0,r.Lk)("h2",null,"代驾管理系统")],-1)),(0,r.bF)(o,{model:m,rules:c,ref_key:"loginFormRef",ref:a,class:"login-form"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{prop:"username"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:m.username,"onUpdate:modelValue":l[0]||(l[0]=e=>m.username=e),"prefix-icon":"User",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,{prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:m.password,"onUpdate:modelValue":l[1]||(l[1]=e=>m.password=e),"prefix-icon":"Lock",type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{type:"primary",class:"login-button",loading:p.value,onClick:g},{default:(0,r.k6)((()=>l[2]||(l[2]=[(0,r.eW)("登录")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}};var i=l(1241);const m=(0,i.A)(t,[["__scopeId","data-v-00d4f915"]]),c=m}}]);
//# sourceMappingURL=664.98a077a2.js.map