{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  class: \"card-header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"部门管理\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.handleAdd\n    }, {\n      default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"新增部门\")])),\n      _: 1 /* STABLE */\n    })])]),\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $setup.deptList,\n      \"row-key\": \"id\",\n      border: \"\",\n      \"tree-props\": {\n        children: 'children'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"部门名称\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"leader\",\n        label: \"负责人\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"phone\",\n        label: \"联系电话\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"email\",\n        label: \"邮箱\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"orderNum\",\n        label: \"排序\",\n        width: \"80\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\",\n        width: \"80\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: scope.row.status === 1 ? 'success' : 'danger'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.status === 1 ? '正常' : '停用'), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"200\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          link: \"\",\n          onClick: $event => $setup.handleEdit(scope.row)\n        }, {\n          default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"编辑\")])),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          type: \"danger\",\n          link: \"\",\n          onClick: $event => $setup.handleDelete(scope.row)\n        }, {\n          default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"删除\")])),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","type","onClick","$setup","handleAdd","default","_cache","_createTextVNode","_","_createBlock","_component_el_table","data","deptList","border","children","_component_el_table_column","prop","label","width","scope","_component_el_tag","row","status","_toDisplayString","link","$event","handleEdit","handleDelete","loading"],"sources":["/Users/apple/Desktop/111111/zongheshixi/daijiaguanli/frontui/src/pages/system/SysDept.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card>\n      <template #header>\n        <div class=\"card-header\">\n          <span>部门管理</span>\n          <el-button type=\"primary\" @click=\"handleAdd\">新增部门</el-button>\n        </div>\n      </template>\n      \n      <el-table v-loading=\"loading\" :data=\"deptList\" row-key=\"id\" border :tree-props=\"{ children: 'children' }\">\n        <el-table-column prop=\"name\" label=\"部门名称\" />\n        <el-table-column prop=\"leader\" label=\"负责人\" />\n        <el-table-column prop=\"phone\" label=\"联系电话\" />\n        <el-table-column prop=\"email\" label=\"邮箱\" />\n        <el-table-column prop=\"orderNum\" label=\"排序\" width=\"80\" />\n        <el-table-column prop=\"status\" label=\"状态\" width=\"80\">\n          <template #default=\"scope\">\n            <el-tag :type=\"scope.row.status === 1 ? 'success' : 'danger'\">\n              {{ scope.row.status === 1 ? '正常' : '停用' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"200\">\n          <template #default=\"scope\">\n            <el-button type=\"primary\" link @click=\"handleEdit(scope.row)\">编辑</el-button>\n            <el-button type=\"danger\" link @click=\"handleDelete(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { getDeptTree, addDept, updateDept, deleteDept } from '@/api/dept'\n\n// 表格数据和状态\nconst deptList = ref([])\nconst loading = ref(false)\n\n// 获取部门树\nconst getList = async () => {\n  try {\n    loading.value = true\n    const res = await getDeptTree()\n    deptList.value = res.data || []\n  } catch (error) {\n    console.error('获取部门列表失败', error)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 新增部门\nconst handleAdd = () => {\n  ElMessage.info('新增部门功能待实现')\n}\n\n// 编辑部门\nconst handleEdit = (row) => {\n  ElMessage.info(`编辑部门: ${row.name}`)\n}\n\n// 删除部门\nconst handleDelete = (row) => {\n  ElMessageBox.confirm(`确定要删除部门 ${row.name} 吗?`, '提示', {\n    confirmButtonText: '确定',\n    cancelButtonText: '取消',\n    type: 'warning'\n  }).then(async () => {\n    try {\n      await deleteDept(row.id)\n      ElMessage.success('删除成功')\n      getList()\n    } catch (error) {\n      ElMessage.error('删除失败')\n    }\n  }).catch(() => {})\n}\n\n// 页面加载时获取数据\nonMounted(() => {\n  getList()\n})\n</script>\n\n<style scoped>\n.app-container {\n  padding: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAGfA,KAAK,EAAC;AAAa;;;;;;;;uBAH9BC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJC,YAAA,CA4BUC,kBAAA;IA3BGC,MAAM,EAAAC,QAAA,CACf,MAGM,CAHNC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAAiB,cAAX,MAAI,sBACVJ,YAAA,CAA6DM,oBAAA;MAAlDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEC,MAAA,CAAAC;;MAN5CC,OAAA,EAAAR,QAAA,CAMuD,MAAIS,MAAA,QAAAA,MAAA,OAN3DC,gBAAA,CAMuD,MAAI,E;MAN3DC,CAAA;;IAAAH,OAAA,EAAAR,QAAA,CAUM,MAmBW,C,+BAnBXY,YAAA,CAmBWC,mBAAA;MAnBoBC,IAAI,EAAER,MAAA,CAAAS,QAAQ;MAAE,SAAO,EAAC,IAAI;MAACC,MAAM,EAAN,EAAM;MAAE,YAAU,EAAE;QAAAC,QAAA;MAAA;;MAVtFT,OAAA,EAAAR,QAAA,CAWQ,MAA4C,CAA5CH,YAAA,CAA4CqB,0BAAA;QAA3BC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAC;UACnCvB,YAAA,CAA6CqB,0BAAA;QAA5BC,IAAI,EAAC,QAAQ;QAACC,KAAK,EAAC;UACrCvB,YAAA,CAA6CqB,0BAAA;QAA5BC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC;UACpCvB,YAAA,CAA2CqB,0BAAA;QAA1BC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC;UACpCvB,YAAA,CAAyDqB,0BAAA;QAAxCC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;UAClDxB,YAAA,CAMkBqB,0BAAA;QANDC,IAAI,EAAC,QAAQ;QAACC,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;;QACnCb,OAAO,EAAAR,QAAA,CAGPsB,KAHc,KACvBzB,YAAA,CAES0B,iBAAA;UAFAnB,IAAI,EAAEkB,KAAK,CAACE,GAAG,CAACC,MAAM;;UAlB3CjB,OAAA,EAAAR,QAAA,CAmBc,MAA0C,CAnBxDU,gBAAA,CAAAgB,gBAAA,CAmBiBJ,KAAK,CAACE,GAAG,CAACC,MAAM,qC;UAnBjCd,CAAA;;QAAAA,CAAA;UAuBQd,YAAA,CAKkBqB,0BAAA;QALDE,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;;QACrBb,OAAO,EAAAR,QAAA,CAC4DsB,KADrD,KACvBzB,YAAA,CAA4EM,oBAAA;UAAjEC,IAAI,EAAC,SAAS;UAACuB,IAAI,EAAJ,EAAI;UAAEtB,OAAK,EAAAuB,MAAA,IAAEtB,MAAA,CAAAuB,UAAU,CAACP,KAAK,CAACE,GAAG;;UAzBvEhB,OAAA,EAAAR,QAAA,CAyB0E,MAAES,MAAA,QAAAA,MAAA,OAzB5EC,gBAAA,CAyB0E,IAAE,E;UAzB5EC,CAAA;0DA0BYd,YAAA,CAA6EM,oBAAA;UAAlEC,IAAI,EAAC,QAAQ;UAACuB,IAAI,EAAJ,EAAI;UAAEtB,OAAK,EAAAuB,MAAA,IAAEtB,MAAA,CAAAwB,YAAY,CAACR,KAAK,CAACE,GAAG;;UA1BxEhB,OAAA,EAAAR,QAAA,CA0B2E,MAAES,MAAA,QAAAA,MAAA,OA1B7EC,gBAAA,CA0B2E,IAAE,E;UA1B7EC,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;wDAU2BL,MAAA,CAAAyB,OAAO,E;IAVlCpB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}